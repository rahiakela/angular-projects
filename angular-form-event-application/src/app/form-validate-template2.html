<div class="container">
    <div class="bg-info m-t-1 m-b-1">
        Model Data:{{jsonProduct}}
    </div>

    <form novalidate [formGroup]="form" (ngSubmit)="submitForm(form)">
        <div class="bg-danger p-a-1 m-b-1" *ngIf="form.invalid">
            There are problems with the form
            <ul>
                <li *ngFor="let error of form.getFormValidationMessages()">
                    {{error}}
                </li>
            </ul>
        </div> 
        <div class="form-group">
            <label>Name</label>
            <input class="form-control"
                   name="name"
                   formControlName="name"           
                   [(ngModel)]="newProduct.name"/>
            <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || form.controls['name'].dirty) && form.controls['name'].invalid">
                <li *ngFor="let error of form.controls['name'].getValidationMessages()">
                    {{error}}
                </li>
            </ul>
        </div> 
        <div class="form-group">
            <label>Category</label>
            <input class="form-control"
                   name="category"
                   formControlName="category"           
                   [(ngModel)]="newProduct.category"/>
            <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || form.controls['category'].dirty) && form.controls['category'].invalid">
                <li *ngFor="let error of form.controls['category'].getValidationMessages()">
                    {{error}}
                </li>
            </ul>
        </div> 
        <div class="form-group">
            <label>Price</label>
            <input class="form-control"
                   name="price"
                   formControlName="price"
                   [(ngModel)]="newProduct.price"/>
            <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || form.controls['price'].dirty) && form.controls['price'].invalid">
                <li *ngFor="let error of form.controls['price'].getValidationMessages()">
                    {{error}}
                </li>
            </ul>
        </div>   
        <button class="btn btn-primary" type="submit" 
                [disabled]="form.invalid"
                [class.btn-secondary]="form.invalid">Create</button>
    </form>
    
</div>