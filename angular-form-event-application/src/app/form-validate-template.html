<div class="container">
    <div class="bg-info m-t-1 m-b-1">
        Model Data:{{jsonProduct}}
    </div>

    <form novalidate #form="ngForm" (ngSubmit)="submitForm(form)">
        <div class="bg-danger p-a-1 m-b-1" *ngIf="form.invalid">
            There are problems with the form
            <ul>
                <li *ngFor="let error of getFormValidationMessages(form)">
                    {{error}}
                </li>
            </ul>
        </div> 
        <div class="form-group">
            <label>Name</label>
            <input class="form-control"
                   name="name"
                   #name="ngModel"
                   [(ngModel)]="newProduct.name"
                   required
                   minlength="5"
                   pattern="^[A-Za-z ]+$"/>
            <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || name.dirty) && name.invalid">
                <li *ngFor="let error of getValidationMessages(name)">
                    {{error}}
                </li>
            </ul>
        </div> 
        <div class="form-group">
            <label>Price</label>
            <input class="form-control"
                   name="price"
                   #price="ngModel"
                   [(ngModel)]="newProduct.price"
                   required                 
                   pattern="^[0-9\.]+$"/>
            <ul class="text-danger list-unstyled" *ngIf="(formSubmitted || price.dirty) && price.invalid">
                <li *ngFor="let error of getValidationMessages(price)">
                    {{error}}
                </li>
            </ul>
        </div>   
        <button class="btn btn-primary" type="submit" 
                [disabled]="form.invalid"
                [class.btn-secondary]="form.invalid">Create</button>
    </form>
    
</div>